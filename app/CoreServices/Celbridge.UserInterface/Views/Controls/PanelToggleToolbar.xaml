<UserControl
    x:Class="Celbridge.UserInterface.Views.PanelToggleToolbar"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:icons="using:Celbridge.UserInterface.Views.PanelIcons">

    <StackPanel x:Name="PanelVisibilityToolbar"
                Orientation="Horizontal"
                HorizontalAlignment="Right"
                VerticalAlignment="Center">
        
        <!-- Panel Layout Button with Flyout -->
        <Button x:Name="PanelLayoutButton"
                Click="PanelLayoutButton_Click"
                DoubleTapped="Button_DoubleTapped"
                Margin="2,2,0,0"
                Padding="6"
                Background="Transparent"
                BorderThickness="0">
            <Button.Flyout>
                <Flyout x:Name="PanelLayoutFlyout" Placement="Bottom">
                    <StackPanel Width="250" Spacing="8">
                        <!-- Explorer Panel Toggle -->
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <StackPanel Orientation="Horizontal" Spacing="8" VerticalAlignment="Center">
                                <icons:ExplorerPanelIcon/>
                                <TextBlock x:Name="ExplorerPanelLabel" VerticalAlignment="Center"/>
                            </StackPanel>
                            <CheckBox x:Name="ExplorerPanelToggle"
                                      Grid.Column="1"
                                      Checked="ExplorerPanelToggle_Changed"
                                      Unchecked="ExplorerPanelToggle_Changed"
                                      MinWidth="0"/>
                        </Grid>

                        <!-- Console Panel Toggle -->
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <StackPanel Orientation="Horizontal" Spacing="8" VerticalAlignment="Center">
                                <icons:ConsolePanelIcon/>
                                <TextBlock x:Name="ConsolePanelLabel" VerticalAlignment="Center"/>
                            </StackPanel>
                            <CheckBox x:Name="ConsolePanelToggle"
                                      Grid.Column="1"
                                      Checked="ConsolePanelToggle_Changed"
                                      Unchecked="ConsolePanelToggle_Changed"
                                      MinWidth="0"/>
                        </Grid>

                        <!-- Inspector Panel Toggle -->
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <StackPanel Orientation="Horizontal" Spacing="8" VerticalAlignment="Center">
                                <icons:InspectorPanelIcon/>
                                <TextBlock x:Name="InspectorPanelLabel" VerticalAlignment="Center"/>
                            </StackPanel>
                            <CheckBox x:Name="InspectorPanelToggle"
                                      Grid.Column="1"
                                      Checked="InspectorPanelToggle_Changed"
                                      Unchecked="InspectorPanelToggle_Changed"
                                      MinWidth="0"/>
                        </Grid>

                        <MenuFlyoutSeparator/>

                        <!-- Zen Mode Toggle -->
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock x:Name="ZenModeLabel" VerticalAlignment="Center"/>
                            <CheckBox x:Name="ZenModeToggle"
                                      Grid.Column="1"
                                      Checked="ZenModeToggle_Changed"
                                      Unchecked="ZenModeToggle_Changed"
                                      MinWidth="0"/>
                        </Grid>

                        <MenuFlyoutSeparator/>

                        <!-- Reset Layout Button -->
                        <Button x:Name="ResetLayoutButton"
                                Click="ResetLayoutButton_Click"
                                HorizontalAlignment="Stretch">
                            <TextBlock x:Name="ResetLayoutButtonText"/>
                        </Button>
                    </StackPanel>
                </Flyout>
            </Button.Flyout>
            <FontIcon FontFamily="{StaticResource FluentSystemIconsFamily}"
                      Glyph="&#xF06F7;"
                      FontSize="18" />
        </Button>
        
        <!-- Explorer Panel Toggle (Left sidebar icon) -->
        <Button x:Name="ToggleExplorerPanelButton"
                Click="ToggleExplorerPanelButton_Click"
                DoubleTapped="Button_DoubleTapped"
                Margin="2,0"
                Padding="6"
                Background="Transparent"
                BorderThickness="0">
            <icons:ExplorerPanelIcon x:Name="ExplorerPanelIcon"/>
        </Button>
        
        <!-- Console Panel Toggle (Bottom panel icon) -->
        <Button x:Name="ToggleConsolePanelButton"
                Click="ToggleConsolePanelButton_Click"
                DoubleTapped="Button_DoubleTapped"
                Margin="2,0"
                Padding="6"
                Background="Transparent"
                BorderThickness="0">
            <icons:ConsolePanelIcon x:Name="ConsolePanelIcon"/>
        </Button>
        
        <!-- Inspector Panel Toggle (Right sidebar icon) -->
        <Button x:Name="ToggleInspectorPanelButton"
                Click="ToggleInspectorPanelButton_Click"
                DoubleTapped="Button_DoubleTapped"
                Margin="2,0"
                Padding="6"
                Background="Transparent"
                BorderThickness="0">
            <icons:InspectorPanelIcon x:Name="InspectorPanelIcon"/>
        </Button>
        
    </StackPanel>
</UserControl>
