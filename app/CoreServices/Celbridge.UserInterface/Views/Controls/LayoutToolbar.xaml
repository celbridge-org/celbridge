<UserControl
    x:Class="Celbridge.UserInterface.Views.LayoutToolbar"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:icons="using:Celbridge.UserInterface.Views.PanelIcons">

    <StackPanel x:Name="ApplicationLayoutToolbar"
                Orientation="Horizontal"
                HorizontalAlignment="Right"
                VerticalAlignment="Center">
        
        <!-- Panel Layout Button with Flyout -->
        <Button x:Name="PanelLayoutButton"
                Click="PanelLayoutButton_Click"
                DoubleTapped="Button_DoubleTapped"
                Margin="2,2,0,0"
                Padding="6"
                Background="Transparent"
                BorderThickness="0">
            <Button.Flyout>
                <Flyout x:Name="PanelLayoutFlyout" Placement="Bottom">
                    <StackPanel Width="250" Spacing="8">
                        <!-- Panel Toggles Section (only visible on Workspace page) -->
                        <StackPanel x:Name="PanelTogglesSection" Spacing="8">
                            <!-- Explorer Panel Toggle -->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Orientation="Horizontal" Spacing="8" VerticalAlignment="Center">
                                    <icons:ExplorerPanelIcon/>
                                    <TextBlock x:Name="ExplorerPanelLabel" VerticalAlignment="Center"/>
                                </StackPanel>
                                <CheckBox x:Name="ExplorerPanelToggle"
                                          Grid.Column="1"
                                          Checked="ExplorerPanelToggle_Changed"
                                          Unchecked="ExplorerPanelToggle_Changed"
                                          MinWidth="0"/>
                            </Grid>

                            <!-- Console Panel Toggle -->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Orientation="Horizontal" Spacing="8" VerticalAlignment="Center">
                                    <icons:ConsolePanelIcon/>
                                    <TextBlock x:Name="ConsolePanelLabel" VerticalAlignment="Center"/>
                                </StackPanel>
                                <CheckBox x:Name="ConsolePanelToggle"
                                          Grid.Column="1"
                                          Checked="ConsolePanelToggle_Changed"
                                          Unchecked="ConsolePanelToggle_Changed"
                                          MinWidth="0"/>
                            </Grid>

                            <!-- Inspector Panel Toggle -->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Orientation="Horizontal" Spacing="8" VerticalAlignment="Center">
                                    <icons:InspectorPanelIcon/>
                                    <TextBlock x:Name="InspectorPanelLabel" VerticalAlignment="Center"/>
                                </StackPanel>
                                <CheckBox x:Name="InspectorPanelToggle"
                                          Grid.Column="1"
                                          Checked="InspectorPanelToggle_Changed"
                                          Unchecked="InspectorPanelToggle_Changed"
                                          MinWidth="0"/>
                            </Grid>

                            <MenuFlyoutSeparator/>
                        </StackPanel>

                        <!-- Layout Mode Selection -->
                        <TextBlock x:Name="LayoutModeHeader" 
                                   FontWeight="SemiBold" 
                                   Margin="0,4,0,8"/>
                        
                        <RadioButton x:Name="WindowedModeRadio"
                                     GroupName="LayoutMode"
                                     Checked="LayoutModeRadio_Checked">
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <FontIcon FontFamily="{ThemeResource SymbolThemeFontFamily}"
                                          Glyph="&#xE737;"
                                          FontSize="14"/>
                                <TextBlock x:Name="WindowedModeLabel" VerticalAlignment="Center"/>
                            </StackPanel>
                        </RadioButton>
                        
                        <RadioButton x:Name="FullScreenModeRadio"
                                     GroupName="LayoutMode"
                                     Checked="LayoutModeRadio_Checked">
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <FontIcon FontFamily="{ThemeResource SymbolThemeFontFamily}"
                                          Glyph="&#xE740;"
                                          FontSize="14"/>
                                <TextBlock x:Name="FullScreenModeLabel" VerticalAlignment="Center"/>
                            </StackPanel>
                        </RadioButton>
                        
                        <RadioButton x:Name="ZenModeRadio"
                                     GroupName="LayoutMode"
                                     Checked="LayoutModeRadio_Checked">
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <FontIcon FontFamily="{ThemeResource SymbolThemeFontFamily}"
                                          Glyph="&#xE78B;"
                                          FontSize="14"/>
                                <TextBlock x:Name="ZenModeRadioLabel" VerticalAlignment="Center"/>
                            </StackPanel>
                        </RadioButton>
                        
                        <RadioButton x:Name="PresenterModeRadio"
                                     GroupName="LayoutMode"
                                     Checked="LayoutModeRadio_Checked">
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <FontIcon FontFamily="{ThemeResource SymbolThemeFontFamily}"
                                          Glyph="&#xE7F4;"
                                          FontSize="14"/>
                                <TextBlock x:Name="PresenterModeLabel" VerticalAlignment="Center"/>
                            </StackPanel>
                        </RadioButton>

                        <!-- Reset Layout Section (only visible on Workspace page) -->
                        <StackPanel x:Name="ResetLayoutSection" Spacing="8">
                            <MenuFlyoutSeparator/>

                            <!-- Reset Layout Button -->
                            <Button x:Name="ResetLayoutButton"
                                    Click="ResetLayoutButton_Click"
                                    HorizontalAlignment="Stretch">
                                <TextBlock x:Name="ResetLayoutButtonText"/>
                            </Button>
                        </StackPanel>
                    </StackPanel>
                </Flyout>
            </Button.Flyout>
            <FontIcon FontFamily="{StaticResource FluentSystemIconsFamily}"
                      Glyph="&#xF06F7;"
                      FontSize="18" />
        </Button>
        
        <!-- Panel Toggle Buttons (only visible on Workspace page) -->
        <StackPanel x:Name="PanelToggleButtons" Orientation="Horizontal">
            <!-- Explorer Panel Toggle (Left sidebar icon) -->
            <Button x:Name="ToggleExplorerPanelButton"
                    Click="ToggleExplorerPanelButton_Click"
                    DoubleTapped="Button_DoubleTapped"
                    Margin="2,0"
                    Padding="6"
                    Background="Transparent"
                    BorderThickness="0">
                <icons:ExplorerPanelIcon x:Name="ExplorerPanelIcon"/>
            </Button>
            
            <!-- Console Panel Toggle (Bottom panel icon) -->
            <Button x:Name="ToggleConsolePanelButton"
                    Click="ToggleConsolePanelButton_Click"
                    DoubleTapped="Button_DoubleTapped"
                    Margin="2,0"
                    Padding="6"
                    Background="Transparent"
                    BorderThickness="0">
                <icons:ConsolePanelIcon x:Name="ConsolePanelIcon"/>
            </Button>
            
            <!-- Inspector Panel Toggle (Right sidebar icon) -->
            <Button x:Name="ToggleInspectorPanelButton"
                    Click="ToggleInspectorPanelButton_Click"
                    DoubleTapped="Button_DoubleTapped"
                    Margin="2,0"
                    Padding="6"
                    Background="Transparent"
                    BorderThickness="0">
                <icons:InspectorPanelIcon x:Name="InspectorPanelIcon"/>
            </Button>
        </StackPanel>
        
    </StackPanel>
</UserControl>
