<UserControl
    x:Class="Celbridge.UserInterface.Views.LayoutToolbar"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:icons="using:Celbridge.UserInterface.Views.PanelIcons">

    <StackPanel x:Name="ApplicationLayoutToolbar"
                Orientation="Horizontal"
                HorizontalAlignment="Right"
                VerticalAlignment="Center">
        
        <!-- Panel Layout Button with Flyout -->
        <Button x:Name="PanelLayoutButton"
                Click="PanelLayoutButton_Click"
                DoubleTapped="Button_DoubleTapped"
                Margin="2,2,0,0"
                Padding="6"
                Background="Transparent"
                BorderThickness="0"
                IsTabStop="False">
            <Button.Flyout>
                <Flyout x:Name="PanelLayoutFlyout" Placement="Bottom">
                    <StackPanel Width="250" Spacing="8">
                        <!-- Window Mode Selection -->
                        <TextBlock x:Name="WindowModeHeader" 
                                   FontWeight="SemiBold" 
                                   Margin="0,4,0,8"/>
                        
                        <RadioButton x:Name="WindowedModeRadio"
                                     GroupName="WindowMode"
                                     Checked="WindowModeRadio_Checked">
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <FontIcon FontFamily="{StaticResource FluentSystemIconsFamily}"
                                          Glyph="&#xF8B5;"
                                          FontSize="20"/>
                                <TextBlock x:Name="WindowedModeLabel"/>
                            </StackPanel>
                        </RadioButton>
                        
                        <RadioButton x:Name="FullScreenModeRadio"
                                     GroupName="WindowMode"
                                     Checked="WindowModeRadio_Checked">
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <FontIcon FontFamily="{StaticResource FluentSystemIconsFamily}"
                                          Glyph="&#xE0C5;"
                                          FontSize="20"/>
                                <TextBlock x:Name="FullScreenModeLabel"/>
                            </StackPanel>
                        </RadioButton>
                        
                        <RadioButton x:Name="ZenModeRadio"
                                     GroupName="WindowMode"
                                     Checked="WindowModeRadio_Checked">
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <FontIcon FontFamily="{StaticResource FluentSystemIconsFamily}"
                                          Glyph="&#xEFC9;"
                                          FontSize="20"/>
                                <TextBlock x:Name="ZenModeRadioLabel"/>
                            </StackPanel>
                        </RadioButton>
                        
                        <RadioButton x:Name="PresenterModeRadio"
                                     GroupName="WindowMode"
                                     Checked="WindowModeRadio_Checked">
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <FontIcon FontFamily="{StaticResource FluentSystemIconsFamily}"
                                          Glyph="&#xF35A;"
                                          FontSize="20"/>
                                <TextBlock x:Name="PresenterModeLabel"/>
                            </StackPanel>
                        </RadioButton>

                        <MenuFlyoutSeparator x:Name="ResetLayoutSeparator"/>

                        <!-- Reset Layout Button (only visible on Workspace page) -->
                        <Button x:Name="ResetLayoutButton"
                                Click="ResetLayoutButton_Click"
                                HorizontalAlignment="Stretch">
                            <TextBlock x:Name="ResetLayoutButtonText"/>
                        </Button>
                    </StackPanel>
                </Flyout>
            </Button.Flyout>
            <FontIcon FontFamily="{StaticResource FluentSystemIconsFamily}"
                      Glyph="&#xF06F7;"
                      FontSize="18" />
        </Button>
        
        <!-- Panel Toggle Buttons (only visible on Workspace page) -->
        <StackPanel x:Name="PanelToggleButtons" Orientation="Horizontal">
            <!-- Explorer Panel Toggle (Left sidebar icon) -->
            <Button x:Name="ToggleExplorerPanelButton"
                    Click="ToggleExplorerPanelButton_Click"
                    DoubleTapped="Button_DoubleTapped"
                    Margin="2,0"
                    Padding="6"
                    Background="Transparent"
                    BorderThickness="0"
                    IsTabStop="False">
                <icons:ExplorerPanelIcon x:Name="ExplorerPanelIcon"/>
            </Button>
            
            <!-- Console Panel Toggle (Bottom panel icon) -->
            <Button x:Name="ToggleConsolePanelButton"
                    Click="ToggleConsolePanelButton_Click"
                    DoubleTapped="Button_DoubleTapped"
                    Margin="2,0"
                    Padding="6"
                    Background="Transparent"
                    BorderThickness="0"
                    IsTabStop="False">
                <icons:ConsolePanelIcon x:Name="ConsolePanelIcon"/>
            </Button>
            
            <!-- Inspector Panel Toggle (Right sidebar icon) -->
            <Button x:Name="ToggleInspectorPanelButton"
                    Click="ToggleInspectorPanelButton_Click"
                    DoubleTapped="Button_DoubleTapped"
                    Margin="2,0"
                    Padding="6"
                    Background="Transparent"
                    BorderThickness="0"
                    IsTabStop="False">
                <icons:InspectorPanelIcon x:Name="InspectorPanelIcon"/>
            </Button>
        </StackPanel>
        
    </StackPanel>
</UserControl>
