<ContentDialog
  x:Class="Celbridge.UserInterface.Views.InputTextDialog"
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:local="using:Celbridge.UserInterface.Views"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
  Title="{x:Bind ViewModel.TitleText, Mode=OneWay}"
  SecondaryButtonText="{x:Bind CancelString}"
  IsPrimaryButtonEnabled="{x:Bind ViewModel.IsSubmitEnabled, Mode=OneWay}">

  <StackPanel Orientation="Vertical"
              HorizontalAlignment="Stretch"
              VerticalAlignment="Center">
    <TextBox x:Name="InputTextBox"
             Header="{x:Bind ViewModel.HeaderText, Mode=OneWay}"
             Text="{x:Bind ViewModel.InputText, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
             IsSpellCheckEnabled="False"
             AcceptsReturn="False"
             KeyDown="InputTextBox_KeyDown"/>
    <TextBlock Text="{x:Bind ViewModel.ErrorText, Mode=OneWay}"
               Foreground="{ThemeResource ErrorTextBrush}"
               Margin="6,4,0,0"
               Opacity="{x:Bind ViewModel.IsTextValid, Mode=OneWay, Converter={StaticResource BoolToOpacityConverter}, ConverterParameter=Inverted}"/>
  </StackPanel>

</ContentDialog>
