<ContentDialog
x:Class="Celbridge.UserInterface.Views.AddFileDialog"
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:local="using:Celbridge.UserInterface.Views"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
  Title="{x:Bind ViewModel.TitleText, Mode=OneWay}"
  PrimaryButtonText="{x:Bind CreateString}"
  SecondaryButtonText="{x:Bind CancelString}"
  IsPrimaryButtonEnabled="{x:Bind ViewModel.IsSubmitEnabled, Mode=OneWay}"
  Opened="Dialog_Opened">

  <StackPanel Orientation="Vertical"
              HorizontalAlignment="Stretch"
              VerticalAlignment="Center"
              MinWidth="350">
        
    <!-- File type dropdown -->
    <ComboBox x:Name="FileTypeComboBox"
              Header="{x:Bind FileTypeString}"
              HorizontalAlignment="Stretch"
              SelectedIndex="{x:Bind ViewModel.SelectedFileTypeIndex, Mode=TwoWay}"/>
        
    <!-- File name text box -->
    <TextBox x:Name="FileNameTextBox"
             Header="{x:Bind ViewModel.HeaderText, Mode=OneWay}"
             Text="{x:Bind ViewModel.FileName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
             IsSpellCheckEnabled="False"
             AcceptsReturn="False"
             Margin="0,12,0,0"
             KeyDown="FileNameTextBox_KeyDown"/>
        
    <!-- Error text -->
    <TextBlock Text="{x:Bind ViewModel.ErrorText, Mode=OneWay}"
               Foreground="{ThemeResource ErrorTextBrush}"
               Margin="6,4,0,0"
               Opacity="{x:Bind ViewModel.IsFileNameValid, Mode=OneWay, Converter={StaticResource BoolToOpacityConverter}, ConverterParameter=Inverted}"/>
  </StackPanel>

</ContentDialog>
