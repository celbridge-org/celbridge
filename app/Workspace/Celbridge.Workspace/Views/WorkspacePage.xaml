<Page
    x:Class="Celbridge.Workspace.Views.WorkspacePage"
    x:Name="WorkspacePageName"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Celbridge.Workspace.Views"
    xmlns:controls="using:CommunityToolkit.WinUI.Controls"
    xmlns:vm="using:Celbridge.Workspace.ViewModels"
    NavigationCacheMode="Required"
    DataContext="{x:Bind ViewModel}">

  <Grid x:Name="LayoutRoot">
    
    <Grid.ColumnDefinitions>
      <ColumnDefinition x:Name="PrimaryPanelColumn" Width="Auto" MinWidth="100"/>
      <ColumnDefinition Width="*"/>
      <ColumnDefinition x:Name="SecondaryPanelColumn" Width="Auto" MinWidth="100"/>
    </Grid.ColumnDefinitions>
    
    <Grid.RowDefinitions>
      <RowDefinition Height="*"/>
      <RowDefinition x:Name="ConsolePanelRow" Height="Auto" MinHeight="100"/>
    </Grid.RowDefinitions>

    <!-- Primary Panel (contains ProjectPanel by default, or Inspector when swapped) -->
    <Grid x:Name="PrimaryPanel"
          Grid.RowSpan="2"
          MinWidth="100"
          Tag="Primary"
          Background="{ThemeResource PanelBackgroundABrush}"
          BorderBrush="{ThemeResource PanelBorderBrush}"
          BorderThickness="0,0,2,0"
          GotFocus="Panel_GotFocus"
          PointerPressed="Panel_PointerPressed">
    </Grid>

    <!-- Documents Panel -->
    <Grid x:Name="DocumentsPanel"
          Grid.Column="1"
          Tag="Documents"
          Background="{ThemeResource ApplicationBackgroundBrush}"
          GotFocus="Panel_GotFocus"
          PointerPressed="Panel_PointerPressed">
    </Grid>

    <!-- Secondary Panel (contains Inspector by default, or ProjectPanel when swapped) -->
    <Grid x:Name="SecondaryPanel"
          Grid.Column="2"
          Grid.Row="0"
          Grid.RowSpan="2"
          MinWidth="100"
          Tag="Secondary"
          Background="{ThemeResource PanelBackgroundABrush}"
          BorderBrush="{ThemeResource PanelBorderBrush}"
          BorderThickness="2,0,0,0"
          GotFocus="Panel_GotFocus"
          PointerPressed="Panel_PointerPressed">
    </Grid>

    <!-- Console Panel -->
    <Grid x:Name="ConsolePanel"
          Grid.Column="1"
          Grid.Row="1"
          MinHeight="100"
          Tag="Console"
          Background="{ThemeResource PanelBackgroundBBrush}"
          BorderBrush="{ThemeResource PanelBorderBrush}"
          BorderThickness="0,2,0,0"
          GotFocus="Panel_GotFocus"
          PointerPressed="Panel_PointerPressed">
    </Grid>

    <!-- Grid splitters -->

    <controls:GridSplitter x:Name="PrimaryPanelSplitter"
                           Grid.Column="0"
                           Grid.RowSpan="2"
                           HorizontalAlignment="Right"
                           ResizeDirection="Auto"
                           ResizeBehavior="BasedOnAlignment"
                           Foreground="{ThemeResource PanelBackgroundBBrush}"/>

    <controls:GridSplitter x:Name="SecondaryPanelSplitter"
                           Grid.Column="2"
                           Grid.RowSpan="2"
                           HorizontalAlignment="Left"
                           ResizeDirection="Auto"
                           ResizeBehavior="BasedOnAlignment"
                           Foreground="{ThemeResource PanelBackgroundBBrush}"/>

    <controls:GridSplitter x:Name="ConsolePanelSplitter"
                           Grid.Column="1"
                           Grid.Row="1"
                           Grid.RowSpan="1"
                           VerticalAlignment="Top"
                           Height="4"
                           Margin="0"
                           ResizeDirection="Auto"
                           ResizeBehavior="BasedOnAlignment"
                           Foreground="{ThemeResource PanelBackgroundBBrush}"/>
  </Grid>
</Page>
