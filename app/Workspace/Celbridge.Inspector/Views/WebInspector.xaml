<UserControl
    x:Class="Celbridge.Inspector.Views.WebInspector"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Celbridge.Inspector.Views"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    DataContext="{x:Bind ViewModel}">

    <StackPanel Orientation="Vertical"
                Spacing="8">
        <!-- Navigation buttons row -->
        <StackPanel Orientation="Horizontal"
                    Spacing="4"
                    HorizontalAlignment="Center">
            <Button Command="{x:Bind ViewModel.GoBackCommand}"
                    ToolTipService.ToolTip="{x:Bind GoBackTooltipString}"
                    IsEnabled="{x:Bind ViewModel.CanGoBack, Mode=OneWay}">
                <FontIcon FontFamily="{StaticResource SymbolThemeFontFamily}"
                          Glyph="&#xE72B;"
                          FontSize="16" />
            </Button>

            <Button Command="{x:Bind ViewModel.GoForwardCommand}"
                    ToolTipService.ToolTip="{x:Bind GoForwardTooltipString}"
                    IsEnabled="{x:Bind ViewModel.CanGoForward, Mode=OneWay}">
                <FontIcon FontFamily="{StaticResource SymbolThemeFontFamily}"
                          Glyph="&#xE72A;"
                          FontSize="16" />
            </Button>

            <Button Command="{x:Bind ViewModel.HomeCommand}"
                    ToolTipService.ToolTip="{x:Bind HomeTooltipString}"
                    IsEnabled="{x:Bind ViewModel.IsUrlValid, Mode=OneWay}">
                <FontIcon FontFamily="{StaticResource SymbolThemeFontFamily}"
                          Glyph="&#xE80F;"
                          FontSize="16" />
            </Button>

            <Button Command="{x:Bind ViewModel.RefreshCommand}"
                    ToolTipService.ToolTip="{x:Bind RefreshTooltipString}"
                    IsEnabled="{x:Bind ViewModel.CanRefresh, Mode=OneWay}">
                <FontIcon FontFamily="{StaticResource SymbolThemeFontFamily}"
                          Glyph="&#xE72C;"
                          FontSize="16" />
            </Button>
        </StackPanel>

        <!-- Home URL input -->
        <TextBox x:Name="UrlTextBox"
                 Header="{x:Bind HomeURLString}"
                 PlaceholderText="{x:Bind AddressPlaceholderString}"
                 HorizontalAlignment="Stretch"
                 IsSpellCheckEnabled="False"
                 TextWrapping="Wrap"
                 Text="{x:Bind ViewModel.SourceUrl, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                 KeyDown="UrlTextBox_KeyDown"/>

        <!-- Error InfoBar -->
        <InfoBar IsOpen="{x:Bind ViewModel.HasUrlError, Mode=OneWay}"
                 Severity="Error"
                 Message="{x:Bind ViewModel.UrlErrorMessage, Mode=OneWay}"
                 IsClosable="False" />

        <!-- Current URL -->
        <StackPanel Orientation="Vertical" Spacing="4">
            <TextBlock Text="{x:Bind CurrentURLString}"
                       Style="{StaticResource CaptionTextBlockStyle}"
                       Opacity="0.7" />
            <TextBlock Text="{x:Bind ViewModel.CurrentUrl, Mode=OneWay}"
                       TextWrapping="Wrap"
                       IsTextSelectionEnabled="True"
                       Opacity="0.7" />
        </StackPanel>
    </StackPanel>
</UserControl>
